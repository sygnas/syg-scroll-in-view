!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@sygnas/throttle")):"function"==typeof define&&define.amd?define(["@sygnas/throttle"],e):t["syg-scroll-inview"]=e(t.throttle)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n={offset:50,doc_bottom_offset:50,on_view:function(){}};return function(){function s(t,i){e(this,s),this.opt=Object.assign(n,i),this.target_string=t,this.target_list=[],this.is_started=!1,this.win_height=0,this.doc_height=0,this.interval_id=null,this.ev_scroll=null,this.ev_resize=null,this.reset_target()}return i(s,[{key:"reset_target",value:function(){var t=this,i=this.opt;this.target_list=[];(function(t){return Array.prototype.slice.call(t,0)})(document.querySelectorAll(this.target_string)).forEach(function(n){var s=new function t(i){e(this,t),this.elm=i,this.offset=0,this.top=0,this.bottom=0,this.is_inview=!1}(n),o=Number.parseInt(n.getAttribute("data-inview-offset"),10);s.offset=o||i.offset,t.target_list.push(s)})}},{key:"start",value:function(){this.is_started||(this.$_check_element_position(),this.ev_resize=t(50,this.$_check_document_height,this),window.addEventListener("resize",this.ev_resize),this.$_check_document_height(),this.ev_scroll=t(40,this.$_check_inview,this),window.addEventListener("scroll",this.ev_scroll),this.$_check_inview(),this.is_started=!0)}},{key:"stop",value:function(){window.removeEventListener("scroll",this.ev_scroll),window.removeEventListener("resize",this.ev_resize),this.is_started=!1}},{key:"$_check_element_position",value:function(){this.target_list.forEach(function(t){var e=t.elm,i=window.pageYOffset,n=e.getBoundingClientRect();t.top=i+n.top,t.bottom=i+n.bottom})}},{key:"$_check_document_height",value:function(){this.win_height=window.window.innerHeight,this.doc_height=document.documentElement.scrollHeight}},{key:"$_check_inview",value:function(){var t=this,e=!0,i=window.pageYOffset,n=i+this.win_height;this.$_check_arrived_document_bottom(n)||(this.target_list.forEach(function(s){e=t.$_check_inview_target(s,i,n)&&e}),e&&this.stop())}},{key:"$_check_arrived_document_bottom",value:function(t){var e=this;return t>=this.doc_height-this.opt.doc_bottom_offset&&(this.target_list.forEach(function(t){e.$_set_target_visible(t,!0)}),this.stop(),!0)}},{key:"$_check_inview_target",value:function(t,e,i){return!!t.is_inview||(t.top+t.offset<=i&&this.$_set_target_visible(t,!0),t.is_inview)}},{key:"$_set_target_visible",value:function(t,e){t.elm.setAttribute("data-inview",e?"true":"false"),t.is_inview=e}}]),s}()});
//# sourceMappingURL=scroll-inview.min.js.map
